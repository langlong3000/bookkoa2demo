# koa2项目实践


## 总体完成情况
* 将原yii项目中的book列表页使用swig放入了view中，并切把通用的layout.html放在了根目录下
* 在book.html实现了axios向路由请求数据的逻辑，目前只有获取列表和删除的功能，但是get和post都已覆盖
* 在models文件夹下的book.js中创建了book类，实现了对应的使用axios向pho即后台接口请求数据的方法
* 本项目使用的包及其作用在根目录下的app.js里有较通俗的解释，还有一些遇到的坑记录在app.js中
* 根目录的public文件夹是静态资源文件夹，并且成功用koa-static中间件绑定。
* 为了在发布时使用pm2管理，并且用.json的方式启动，在根目录下添加里pm2.json的文件，切记pm2启动不了最可能时因为配置不对，从最简单的配置开始一点点增加，是查找问题原因的好办法
* 项目已经成功布置到云服务器上,已成功用pm2启动并监控，且成功安装并运行了nginx反向代理及负载均衡，配置文件在根目录下的nginxconf文件夹中，试过两台云服务器没有问题
* 本次实践还在云服务器安装成功了上次项目的php的环境，并且成功把php布上。可以将正确数据库反映到前端。


* 下方是我pm2.json的内容，单拿出来以防以后踩坑
```
{
    "name":"node-app",
    "script":"app.js",
    "cwd":"./",
    "watch":true,
    "instances":"max",
    "exec_mode":"cluster"
}
```

本次作业为了尽快练习到重要的知识点，所以关于书的新增和编辑没有实现。将在空闲时完善。