# koa2项目实践


## 总体完成情况
* 将原yii项目中的book列表页通过swig模版引擎放入了views文件夹中，并且把通用部分写入layout.html模版页放在了根目录下。
* 在book.html实现了axios向koa2的路由请求数据的逻辑，目前只有获取列表和删除的功能，但是get和post方式都已覆盖。
* 在models文件夹下的book.js中创建了book类，实现了对应的使用axios向php后台接口请求数据的方法。
* 本项目使用的包及其作用在根目录下的app.js里有较通俗的解释，还有一些遇到的坑记录在app.js中。
* 根目录的public文件夹是静态资源文件夹，并且成功用koa-static中间件进行了绑定。
* 为了在发布时使用pm2管理，并且用.json的方式启动，在根目录下添加里pm2.json的文件，切记pm2启动不了最可能是因为配置不对，从最简单的配置一点点增加才得以解决。
* 项目已经成功布置到云服务器上；成功用pm2启动并监控项目运行；成功安装并运行了nginx反向代理及负载均衡，配置文件在根目录下的nginxconf文件夹中，试过两台云服务器没有问题。
* 本次实践还在云服务器安装成功了上次项目的php的环境，并且成功把php布上。可以将正确数据反映到前端。
* 下方是我pm2.json的内容，单拿出来以防以后踩坑
```
{
    "name":"node-app",
    "script":"app.js",
    "cwd":"./",
    "watch":true,
    "instances":"max",
    "exec_mode":"cluster"
}
```

本次作业为了尽快练习到重要的知识点，所以关于图书的新增和编辑功能没有实现，将在空闲时完善。